<!DOCTYPE html>

<html>

<head>
    <title>Captain's Log</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            var i;
            if(typeof(Storage) !== "undefined") {
                for (i = localStorage.length - 1; i >= 0; i--){
                    var newentry = $("<p>").html(localStorage.getItem(i));
                    $("#log").append(newentry);
                }
            }
            i = localStorage.length;
            $("#msg").keyup(function(key){
                if (key.keyCode == 13) {
                    var datenow = new Date(Date.now());
                    var newentry = $("<p>").html(datenow + 
                        " " + $(this).val());
                    $("#log").prepend(newentry);
                    localStorage.setItem(i, datenow + " " + $(this).val());
                    i++;
                    $(this).val("");
                }

            });
        });   
    </script>
</head>

<body>
    <h1>Captain's Log</h1>
    <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
    <div id="log"></div>
</body>
</html>
